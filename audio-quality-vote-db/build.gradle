plugins {
  id "java-library"
  id "eclipse-wtp"
  id "com.diffplug.eclipse.apt" // version "3.24.0"
}

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11
compileJava {
    options.release = 11
}

compileJava.options.encoding = 'UTF-8'
compileTestJava.options.encoding = 'UTF-8'
 
repositories {
		jcenter()
    mavenCentral()
		maven { url 'https://jitpack.io' }
}

dependencies {
	implementation group: 'org.jdbi', name: 'jdbi3-core', version: '3.17.0'
	implementation group: 'org.jdbi', name: 'jdbi3-sqlobject', version: '3.17.0'
	implementation group: 'com.h2database', name: 'h2', version: '1.4.200'
}

eclipseJdt {
	doLast{
    File f = file('.settings/org.eclipse.core.resources.prefs')
    f.write('eclipse.preferences.version=1\n')
    f.append('encoding/<project>=utf-8')
    f = file('.settings/org.eclipse.core.runtime.prefs')
    f.write('eclipse.preferences.version=1\n')
    f.append('line.separator=\\n\n')
}}
 
eclipse {
	project {
		name = 'Audio Quality Vote (DB)'
	}
	classpath {
		downloadSources=true
	}
}

